<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="styles/page.css">
    <title>主页</title>
</head>
<!--Jquery start-->
<script src="assets/plugins/flot/jquery.js"></script>
<!--Jquery end-->
<body>
<div class="topBar"><span style="margin-left: 40%;font-size: large;">网 上 超市</span></div>
<div class="search">
    <div class="search1">
        <input type="text" name="serachBox" class="serachBox" placeholder="商品名称"/><input type="button" name="searchText"
                                                                                         class="searchText" value="搜索"/>
    </div>
</div>
<div class="centent">
    <div class="leftCent">
        <div class="cent">
            <div class="shopKind">
                <h1 class="kingCent">分类</h1>
            </div>
            <div class="shopName">
                <ol>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToVeget()">蔬菜</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToFruit()">水果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">干果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">饮料</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">饼干</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">面包</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">糖果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">肉类</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">蜜饯</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">薯片膨化</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);">果冻布丁</a></li>
                </ol>
            </div>
        </div>
    </div>
    <div class="rightCent" id="super_content">
    </div>
</div>
<script type="text/javascript">
    $('#super_content').load("fruit.html");//默认主页页面跳转及数据加载
    initProList(1);

    function goToFruit() {//水果页面跳转
        $('#super_content').load("fruit.html");
        initProList(1);
    }

    function goToVeget() {//蔬菜页面跳转
        $('#super_content').load("vegetable.html");
        initProList(2);
    }

    function initProList(value) {
        $.ajax({
            url: "rest/product/info?proType=" + value,
            type: 'GET',
            success: function (data) {
                displayProData(data);
            }
        })
    }

    //页面html拼接
    function displayProData(data) {
        for (var i = 0; i < data.length; i++) {
            $('#imag_' + (i + 1)).attr('src', data[i].imageUrl);
            $('#info_' + (i + 1)).html('</br><a href="product.html">' + data[i].name + '</a></br></br><b>' + data[i].price + '</b>' + '元/500g');
        }
    }
</script>
</body>
</html>
