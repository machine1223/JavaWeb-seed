<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="styles/page.css">
    <title>主页</title>
</head>
<!--Jquery start-->
<script src="assets/plugins/flot/jquery.js"></script>
<!--Jquery end-->
<body>
<div class="topBar"><span style="margin-left: 40%;font-size: large;">网 上 超市</span></div>
<div class="search">
    <div class="search1">
        <input type="text" name="serachBox" class="serachBox" placeholder="商品名称"/><input type="button" name="searchText"
                                                                                         class="searchText" value="搜索"/>
    </div>
</div>
<div class="centent">
    <div class="leftCent">
        <div class="cent">
            <div class="shopKind">
                <h1 class="kingCent">分类</h1>
            </div>
            <div class="shopName">
                <ol>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToVeget()">蔬菜</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToFruit()">水果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToDry()">干果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToDrink()">饮料</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToCookie()">饼干</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToBread()">面包</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToSweet()">糖果</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToMeat()">肉类</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToSweetmeat()">蜜饯</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToChips()">薯片膨化</a></li>
                    <li class="nameStyle"><a href="javascript:void(0);" onclick="goToJelly()">果冻布丁</a></li>
                </ol>
            </div>
        </div>
    </div>
    <div class="rightCent" id="super_content">
    </div>
</div>
<script type="text/javascript">
    $('#super_content').load("fruit.html");//默认主页页面跳转及数据加载
    initProList(1);

    function goToVeget() {//蔬菜页面跳转
        $('#super_content').load("vegetable.html");
        initProList(1);
    }

    function goToFruit() {//水果页面跳转
        $('#super_content').load("fruit.html");
        initProList(2);
    }

    function goToDry() {//干果页面跳转
        $('#super_content').load("dry.html");
        initProList(3);
    }

    function goToDrink() {//饮料页面跳转
        $('#super_content').load("drink.html");
        initProList(4);
    }

    function goToCookie() {//饼干页面跳转
        $('#super_content').load("cookie.html");
        initProList(5);
    }

    function goToBread() {//面包页面跳转
        $('#super_content').load("bread.html");
        initProList(6);
    }

    function goToSweet() {//糖果页面跳转
        $('#super_content').load("sweet.html");
        initProList(7);
    }

    function goToMeat() {//肉类页面跳转
        $('#super_content').load("meat.html");
        initProList(8);
    }

    function goToSweetmeat() {//蜜饯页面跳转
        $('#super_content').load("sweetmeat.html");
        initProList(9);
    }

    function goToChips() {//薯片膨化页面跳转
        $('#super_content').load("chips.html");
        initProList(10);
    }

    function goToJelly() {//果冻布丁页面跳转
        $('#super_content').load("jelly.html");
        initProList(11);
    }

    function initProList(value) {
        $.ajax({
            url: "rest/product/info?proType=" + value,
            type: 'GET',
            success: function (data) {
                displayProData(data);
            }
        })
    }

    //页面html拼接
    function displayProData(data) {
        for (var i = 0; i < data.length; i++) {
//            alert(data[i].id);
            var id = data[i].id;
            $('#imag_' + (i + 1)).attr('src', data[i].imageUrl);
            $('#info_' + (i + 1)).html('</br><a href="javascript:void(0)"  onclick="openDetail('+ id +')">' + data[i].name + '</a></br></br><b>' + data[i].price + '</b>' + '元/500g');
//            $('#info_' + (i + 1)).html('</br><a href="product.html?id='+data[i].id+'"  onclick="openDetail(data[i].id)"   >' + data[i].name + '</a></br></br><b>' + data[i].price + '</b>' + '元/500g');
        }
    }

    function openDetail(data){
//        alert(data);
        location.href = "product.html?id=" + data;
    }
</script>
</body>
</html>
