<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="styles/page.css">
    <title>主页</title>
</head>
<!--Jquery start-->
<script src="assets/plugins/flot/jquery.js"></script>
<!--Jquery end-->
<body>
<div class="topBar">
    <div class="topCent">
        <div class="huanYing">欢迎光临</div>
        <div class="logo"><a href="index.html">吃货小铺</a></div>
        <div class="topCart"><a href="cart.html">购物车</a></div>
        <div class="topOrder"><a href="order.html">订单详情</a></div>
        <div class="topRegister"><a href="register.html">注册</a></div>
        <div class="topLogin"><a href="login.html">登陆</a></div>
    </div>
</div>
<div class="centent">
    <div class="leftCent">
        <div class="cent">
            <div class="shopKind">
                <h1 class="kingCent">分类</h1>
            </div>
            <div class="shopName">
                <ol>
                    <a href="javascript:void(0);" onclick="goToVeget()"><li class="nameStyle">蔬菜</li></a>
                    <a href="javascript:void(0);" onclick="goToFruit()"><li class="nameStyle">水果</li></a>
                    <a href="javascript:void(0);" onclick="goToDry()"><li class="nameStyle">干果</li></a>
                    <a href="javascript:void(0);" onclick="goToDrink()"><li class="nameStyle">饮料</li></a>
                    <a href="javascript:void(0);" onclick="goToCookie()"><li class="nameStyle">饼干</li></a>
                    <a href="javascript:void(0);" onclick="goToBread()"><li class="nameStyle">面包</li></a>
                    <a href="javascript:void(0);" onclick="goToSweet()"><li class="nameStyle">糖果</li></a>
                    <a href="javascript:void(0);" onclick="goToMeat()"><li class="nameStyle">肉类</li></a>
                    <a href="javascript:void(0);" onclick="goToSweetmeat()"><li class="nameStyle">蜜饯</li></a>
                    <a href="javascript:void(0);" onclick="goToChips()"><li class="nameStyle">薯片膨化</li></a>
                    <a href="javascript:void(0);" onclick="goToJelly()"><li class="nameStyle">果冻布丁</li></a>
                </ol>
            </div>
        </div>
    </div>
    <div class="rightCent" id="super_content">
    </div>
</div>
<script type="text/javascript">
    $('#super_content').load("fruit.html");//默认主页页面跳转及数据加载
    initProList(2);

    function goToVeget() {//蔬菜页面跳转
        $('#super_content').load("vegetable.html");
        initProList(1);
    }

    function goToFruit() {//水果页面跳转
        $('#super_content').load("fruit.html");
        initProList(2);
    }

    function goToDry() {//干果页面跳转
        $('#super_content').load("dry.html");
        initProList(3);
    }

    function goToDrink() {//饮料页面跳转
        $('#super_content').load("drink.html");
        initProList(4);
    }

    function goToCookie() {//饼干页面跳转
        $('#super_content').load("cookie.html");
        initProList(5);
    }

    function goToBread() {//面包页面跳转
        $('#super_content').load("bread.html");
        initProList(6);
    }

    function goToSweet() {//糖果页面跳转
        $('#super_content').load("sweet.html");
        initProList(7);
    }

    function goToMeat() {//肉类页面跳转
        $('#super_content').load("meat.html");
        initProList(8);
    }

    function goToSweetmeat() {//蜜饯页面跳转
        $('#super_content').load("sweetmeat.html");
        initProList(9);
    }

    function goToChips() {//薯片膨化页面跳转
        $('#super_content').load("chips.html");
        initProList(10);
    }

    function goToJelly() {//果冻布丁页面跳转
        $('#super_content').load("jelly.html");
        initProList(11);
    }

    function initProList(value) {
        $.ajax({
            url: "rest/product/info?proType=" + value,
            type: 'GET',
            success: function (data) {
                displayProData(data);
            }
        })
    }

    //页面html拼接
    function displayProData(data) {
        for (var i = 0; i < data.length; i++) {
//            alert(data[i].id);
            var id = data[i].id;
            $('#imag_' + (i + 1)).attr('src', data[i].imageUrl);
            $('#info_' + (i + 1)).html('</br><a href="javascript:void(0)"  onclick="openDetail('+ id +')">' + data[i].name + '</a></br></br><b>' + data[i].price + '</b>' + '元/500g');
//            $('#info_' + (i + 1)).html('</br><a href="product.html?id='+data[i].id+'"  onclick="openDetail(data[i].id)"   >' + data[i].name + '</a></br></br><b>' + data[i].price + '</b>' + '元/500g');
        }
    }

    function openDetail(data){
//        alert(data);
        location.href = "product.html?id=" + data;
    }
</script>
</body>
</html>
